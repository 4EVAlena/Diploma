!function(e){var t={};function l(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,l),o.l=!0,o.exports}l.m=e,l.c=t,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s=0)}([function(e,t,l){"use strict";l.r(t);var n=()=>{const e=document.querySelectorAll("input");e.forEach(e=>{e.addEventListener("input",e=>{(e=>{const t=e.getAttribute("placeholder");"+7(___)___-__-__"===t?e.value=e.value.replace(/[^\+0-9]+$/,""):"Ваше имя"===t||"Введите свой вопрос"===t?e.value=e.value.replace(/[^А-Яа-я\s.,]/g,""):e.matches("#distance")&&(e.value=e.value.replace(/[^0-9\.,]+$/,""))})(e.target)})})};var o=()=>{document.getElementById("accordion-two").querySelectorAll(".panel-heading").forEach(e=>{e.addEventListener("click",e=>{if(e.target&&(e.target.closest(".panel-heading")||e.target.closest(".panel")||e.target.closest("#accordion-two"))){e.preventDefault();let t=e.target.closest(".panel-heading");t.classList.toggle("in");let l=t.nextElementSibling;"block"===l.style.display?l.style.display="none":l.style.display="block"}})})};var c=()=>{const e=document.querySelector(".constructor"),t=e.querySelectorAll(".panel-heading"),l=e.querySelectorAll(".collapse"),n=e.querySelectorAll(".construct-btn"),o=e.querySelectorAll(".title-text")[1],c=e.querySelectorAll(".select-box")[2],r=e.querySelectorAll(".select-box")[3],s=document.getElementById("accordion"),a=document.getElementById("calc-result"),d=s.querySelectorAll("select"),u=s.querySelectorAll(".select-box"),i=s.querySelectorAll(".title-text");let y={oneVariant:1e4,twoVariant:15e3,firstSelectValue:1,secondSelectValue:1,thirdSelectValue:1,fourthSelectValue:1,dopValue:1e3},p=y.oneVariant,m=y.dopValue;o.style.display="none",c.style.display="none",r.style.display="none";const f=()=>{a.value=p*y.firstSelectValue*y.secondSelectValue*y.thirdSelectValue*y.fourthSelectValue+m};s.addEventListener("change",e=>{let t=e.target;"myonoffswitch"===t.id&&(t.checked?(p=y.oneVariant,m=1e3,u.forEach((e,t)=>{2!==t&&3!==t||(e.style.display="none")}),i.forEach((e,t)=>{1===t&&(e.style.display="none")}),f()):(p=y.twoVariant,m=2e3,u.forEach((e,t)=>{2!==t&&3!==t||(e.style.display="inline-block")}),i.forEach((e,t)=>{1===t&&(e.style.display="inline-block")}),f())),"myonoffswitch-two"===t.id&&(m=t.checked&&document.getElementById("myonoffswitch").checked?1e3:t.checked&&!document.getElementById("myonoffswitch").checked?2e3:0,f()),t===d[0]&&(y.firstSelectValue=+t.value,f()),t===d[1]&&(y.secondSelectValue=+t.value,f()),t===d[2]&&(y.thirdSelectValue=+t.value,f()),t===d[3]&&(y.fourthSelectValue=+t.value,f())}),f(),t.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),e.nextElementSibling.classList.contains("collapse")&&(l.forEach(e=>{e.style.display="none"}),e.nextElementSibling.style.display="block")})}),n.forEach(e=>{e.classList.contains("call-btn")||e.addEventListener("click",t=>{t.preventDefault();const n=document.querySelector(e.getAttribute("href"));l.forEach(e=>{e.style.display="none"}),n.style.display="block"})})};var r=()=>{const e=document.querySelector(".add-sentence-btn"),t=(document.querySelector(".sentence"),document.querySelectorAll(".row > div"));e.addEventListener("click",l=>{t.forEach(e=>{e.classList.remove("visible-sm-block"),e.classList.remove("hidden")}),e.style.display="none"})};var s=()=>{document.querySelectorAll("form, div").forEach(e=>{let t=null;document.addEventListener("mouseover",l=>{if(l.preventDefault(),t)return;let n=l.target.closest(".button");n&&e.contains(n)&&(t=n,t.style.background="#90c406",t.style.fontSize="1.7rem",t.style.fontWeight="bold",t.style.border="2px solid #7ec14d",t.style.padding="1.5rem 0rem",t.style.boxSizing="content-box")}),document.addEventListener("mouseout",e=>{if(e.preventDefault(),!t)return;let l=e.relatedTarget;for(;l;){if(l===t)return;l=l.parentNode}t.style.background="",t.style.fontSize="",t.style.fontWeight="",t.style.border="",t.style.padding="",t.style.boxSizing="",t=null})})};var a=()=>{const e=document.querySelectorAll(".discount-btn"),t=document.querySelector(".popup-discount");e.forEach(e=>{e.addEventListener("click",l=>{l.target===e?(event.preventDefault(),t.style.display="block"):t.style.display="none"})}),t.addEventListener("click",e=>{let l=e.target;l.classList.contains("popup-close")?t.style.display="none":(l=l.closest(".popup-content"),l||(t.style.display="none"))})};var d=()=>{const e=document.querySelector(".director-btn"),t=document.querySelector(".popup-consultation");e.addEventListener("click",l=>{l.target==e?(event.preventDefault(),t.style.display="block"):t.style.display="none"}),t.addEventListener("click",e=>{let l=e.target;l.classList.contains("popup-close")?t.style.display="none":(l=l.closest(".popup-content"),l||(t.style.display="none"))})};var u=()=>{const e=document.querySelector(".check-btn"),t=document.querySelector(".popup-check");e.addEventListener("click",l=>{l.target===e?(event.preventDefault(),t.style.display="block"):t.style.display="none"}),t.addEventListener("click",e=>{let l=e.target;l.classList.contains("popup-close")?t.style.display="none":(l=l.closest(".popup-content"),l||(t.style.display="none"))})};var i=()=>{const e=document.querySelectorAll("input"),t=document.createElement("div");t.style.cssText="font-size: 2rem; color: #19b5fe",document.addEventListener("submit",l=>{l.preventDefault();let n=l.target;n.appendChild(t),t.textContent="Загрузка...";const o=new FormData(n),c={};o.forEach((e,t)=>{c[t]=e}),"calcFormBlock"===n.id&&(document.getElementById("myonoffswitch").checked?c["Однокамерный септик"]=document.getElementById("myonoffswitch").value:c["Двухкамерный септик"]=document.getElementById("myonoffswitch").value),"calcFormBlock"===n.id&&(document.getElementById("myonoffswitch").checked?(n===document.getElementById("select-one")&&(c["Диаметр первого септика"]=document.getElementById("select-one").value),n===document.getElementById("select-two")&&(c["Количество колец первого септика"]=document.getElementById("select-two").value)):(n===document.getElementById("select-one")&&(c["Диаметр первого септика"]=document.getElementById("select-one").value),n===document.getElementById("select-two")&&(c["Количество колец первого септика"]=document.getElementById("select-two").value),n===document.getElementById("select-three")&&(c["Диаметр второго септика"]=document.getElementById("select-three").value),n===document.getElementById("select-four")&&(c["Диаметр колец второго септика"]=document.getElementById("select-four").value))),"calcFormBlock"===n.id&&(document.getElementById("myonoffswitch-two")?c["Днище колодца необходимо"]=document.getElementById("myonoffswitch-two").value:c["Днище колодца отсутствует"]=document.getElementById("myonoffswitch-two").value),"calcFormBlock"===n.id&&(c["расстояние до дома"]=document.getElementById("collapseFour").querySelector("input").value),"consultDirectorBlock"===n.id&&(c["Вопрос-консультация у директора"]=document.querySelector(".director-form").querySelector("input").value);(e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}))(c).then(e=>{if(200!==e.status)throw new Error("status network not 200");t.textContent="Спасибо! Мы скоро с Вами свяжемся!"}).catch(e=>{t.textContent="Что-то пошло не так...",console.error(e)}).finally(()=>{setTimeout(()=>{e.forEach(e=>e.value=""),t.innerText=""},5e3)})})};(()=>{const e=document.querySelector(".popup-call"),t=document.querySelectorAll(".call-btn"),l=document.querySelector(".popup-content");t.forEach(t=>{t.addEventListener("click",()=>{if(event.preventDefault(),e.style.display="block",screen.width>768){const e=Date.now(),t=()=>{const n=requestAnimationFrame(t),o=Date.now()-e;if(o>=800)return void cancelAnimationFrame(n);let c=+getComputedStyle(l).width.split("px")[0];c=-c/5.5+40+"px",l.style.left=o/15+"%",l.style.marginLeft=c};t()}})}),e.addEventListener("click",t=>{let l=t.target;l.classList.contains("popup-close")?e.style.display="none":(l=l.closest(".popup-content"),l||(e.style.display="none"))})})(),n(),o(),c(),r(),s(),a(),d(),u(),r(),i()}]);